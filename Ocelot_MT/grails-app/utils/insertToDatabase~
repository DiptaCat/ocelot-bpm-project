#!/bin/bash

file1=MainElements.txt
file2=Events.txt

echo "1"

while read var  
do
	if [[ `echo $var | grep svg` = "" ]] 
	then
		if [[ $var != "" ]]
		then
			nom=$(cut -f1 -d'?' <<< $var) 
			cat=$(cut -f2 -d'?' <<< $var)
			icon=$(cut -f3 -d'?' <<< $var)
			props=$(cut -f4 -d'?' <<< $var)
		fi
	else
		cos=$var

		echo "INSERT INTO palette_item (VERSION, ACTIVATED,CATEGORY_ID,DESCRIPTION,ICON,NAME,PROPS,SVG) VALUES (1, TRUE, '$cat', 'no desc', '$icon.png', '$nom', '$props', '$cos');" | psql -h 10.30.103.250 -p 5432 -U camundabpm -d ocelotmt
	fi
	
done < $file1

var=""
cos=""
nom=""

echo "2"

while read var  
do
	if [[ `echo $var | grep svg` = "" ]] 
	then
		if [[ $var != "" ]]
		then
			nom=$(cut -f1 -d'?' <<< $var) 
			cat=$(cut -f2 -d'?' <<< $var)
			props=$(cut -f3 -d'?' <<< $var)
		fi
	else
		cos=$var

		echo "INSERT INTO palette_item (VERSION, ACTIVATED,CATEGORY_ID,DESCRIPTION,ICON,NAME,PROPS,SVG) VALUES (1, TRUE, '$cat', 'no desc', 'none(2).png', '$nom', '$props', '$cos');" | psql -h 10.30.103.250 -p 5432 -U camundabpm -d ocelotmt
	fi

done < $file2

echo "done"
